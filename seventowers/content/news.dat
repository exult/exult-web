<?php
	$keyring = local_link("Black Gate Keyring", "downloads.php?section=0&amp;page=1");
	$sifixes = local_link("Serpent Isle Fixes", "downloads.php?section=0&amp;page=2");
	$avatarpack = local_link("Avatar Pack", "downloads.php?section=0&amp;page=3");
	$ucpage = local_link("Usecode C", "downloads.php?section=1&amp;page=3");
	$NEWS_ITEMS = array(
		array(
			"TIME"	=>	"2013-01-16",
			"TEXT"	=>	array(
					"$keyring updated with rollable magic carpet and some bug fixes.",
					"Usecode documentation and scripting documentation updated.",
				),
		),
		array(
			"TIME"	=>	"2009-08-16",
			"TEXT"	=>	array(
					"Fixed dialog bug that causes Shamino to insult Dupre even
if the later is not in the party.",
				),
		),
		array(
			"TIME"	=>	"2009-05-17",
			"TEXT"	=>	array(
					"Fixed moongate bug in $keyring modification.",
				),
		),
		array(
			"TIME"	=>	"2009-04-24",
			"TEXT"	=>	array(
					"Fixed the " . local_link("Ultima Icons",
"http://www.seventowers.org/downloads.php?section=2") . " subpage.",
				),
		),
		array(
			"TIME"	=>	"2009-04-18",
			"TEXT"	=>	array(
					"Added syntax highlighters for $ucpage.",
				),
		),
		array(
			"TIME"	=>	"2009-04-07",
			"TEXT"	=>	array(
					"Something I forgot to notice before: this website has moved
to a new address, so please update your bookmarks if you haven't already.",
					"Minor update to $keyring makes Lord British's Crown grant
infravision. It still can't be obtained normally in-game, though.",
					"The Exult Intrinsic Reference has been updated.",
				),
		),
		array(
			"TIME"	=>	"2009-03-10",
			"TEXT"	=>	array(
					"The Exult Intrinsic Reference has been updated.",
				),
		),
		array(
			"TIME"	=>	"2009-02-28",
			"TEXT"	=>	array(
					"The Seven Towers has moved to a new host and a new domain,
courtesy of Wizardry Dragon.",
					"New compatibility versions of $keyring and $sifixes modifications.
These changes do not require a new game to work, but they do require the new snapshot
of $EXULT_LINK.",
					format_text("Update: ", true) . "New version of $sifixes to fix
longstanding Serpent Bond bug."
				),
		),
		array(
			"TIME"	=>	"2009-02-12",
			"TEXT"	=>	array(
					"Minor bug fix to $keyring modification. This bug fix requires
a new game to work.",
				),
		),
		array(
			"TIME"	=>	"2008-09-08",
			"TEXT"	=>	array(
					"Fixed a couple errors in the Exult Intrinsic Reference.",
					"The Exult Intrinsic Reference has been updated.",
				),
		),
		array(
			"TIME"	=>	"2008-09-01",
			"TEXT"	=>	array(
					"The Exult Intrinsic Reference has been updated.",
				),
		),
		array(
			"TIME"	=>	"2008-07-23",
			"TEXT"	=>	array(
					"Minor bug fixes in to $keyring and $sifixes modifications.",
				),
		),
		array(
			"TIME"	=>	"2008-06-03",
			"TEXT"	=>	array(
					"There are new versions of $keyring and $avatarpack modifications.
This is a compatibility update for (upcoming) snapshot 1.04.05cvs (or greater)
of $EXULT_LINK. These updates are NOT backward compatible, and neither will
earlier versions work correctly with the new $EXULT_LINK snapshot.",
					"The Exult Intrinsic Reference has been updated with data
specific to (upcoming) snapshot 1.04.05cvs (or greater) of $EXULT_LINK.",
					"There are several new icons, and a few renamed ones, in the
Ultima Icons section.",
				),
		),
		array(
			"TIME"	=>	"2008-02-29",
			"TEXT"	=>	array(
					"The Seven Towers website has a new address.",
					"There are new versions of $keyring and $sifixes modifications.
This is basically a recompilation of the versions previously available because some
recently-introduced bugs in the Usecode compiler rendered them all but playable. 
Also, the $keyring modification now has better diagonal moongates, that do not stand
out so blatantly while in the game.",
					"The Exult Intrinsic Reference has been updated -- but beware,
many of the new things won't be available until a later snapshot of $EXULT_LINK 
that has no clearly set date.",
				),
		),
		array(
			"TIME"	=>	"2008-02-16",
			"TEXT"	=>	array(
					"New versions of $keyring and $sifixes modifications. This is
basically a compatibility update for the upcoming $EXULT_LINK snapshot.",
					"Also, an error was fixed in the Exult Intrinsic Reference."
				),
		),
		array(
			"TIME"	=>	"2007-10-31",
			"TEXT"	=>	array(
					"Updated the Exult Intrinsic Reference and the UCC Scripting
tutorial.",
				),
		),
		array(
			"TIME"	=>	"2007-10-13",
			"TEXT"	=>	array(
					"Another update of the Exult Intrinsic Reference.",
				),
		),
		array(
			"TIME"	=>	"2007-10-11",
			"TEXT"	=>	array(
					"Updated the Exult Intrinsic Reference.",
				),
		),
		array(
			"TIME"	=>	"2007-10-06",
			"TEXT"	=>	array(
					"New version of the $keyring mod fixing death bolt spell and
resurrection by Lord British.",
					"Also corrected and updated the Exult Intrinsic Reference."
				),
		),
		array(
			"TIME"	=>	"2007-10-04",
			"TEXT"	=>	array(
					"New version of the $keyring mod fixing a couple minor bugs
and a potential plot-stopper if you have Sentri in your party in a certain cutscene.",
					format_text("Update: ", true) . "Another update to the
$keyring mod, this time fixing the healing services for LB, Laurianna & Jaana.",
				),
		),
		array(
			"TIME"	=>	"2007-09-02",
			"TEXT"	=>	array(
					"Compatibility update of $keyring mod and of $sifixes due to
changes in $EXULT_LINK/UCC/$EXULT_LINK Studio.",
				),
		),
		array(
			"TIME"	=>	"2007-07-08",
			"TEXT"	=>	array(
					"Fixed bug in $keyring which would cause a purple outline to
be drawn around NPCs in some animations in recent snapshots of $EXULT_LINK.",
				),
		),
		array(
			"TIME"	=>	"2007-07-01",
			"TEXT"	=>	array(
					"(reconstructed due to mix-up in new update) In the $keyring
mod, fixed a few bugs in Zauriel's gem of dispelling functions and improved the
functions for making the blackrock potion.",
				),
		),
		array(
			"TIME"	=>	"2007-06-30",
			"TEXT"	=>	array(
					"Fixed NPC spellcasting reagent bug in the $keyring mod.",
				),
		),
		array(
			"TIME"	=>	"2007-06-24",
			"TEXT"	=>	array(
					"Fixed a few bugs in the $keyring mod.",
				),
		),
		array(
			"TIME"	=>	"2007-06-08",
			"TEXT"	=>	array(
					"Once again updated the Exult Intrinsic Reference.",
				),
		),
		array(
			"TIME"	=>	"2007-06-04",
			"TEXT"	=>	array(
					"Updated the Exult Intrinsic Reference.",
				),
		),
		array(
			"TIME"	=>	"2007-04-28",
			"TEXT"	=>	array(
					"Updated the $avatarpack to fix one more problem in using it with SI
and SI mods. Also, added some anti-aliasing by Crysta the Elf to the brunette
male avatar and Skutarth's new U8-like sprite for the male bucket-head avatar.
The $keyring mod has received a corresponding update.",
				),
		),
		array(
			"TIME"	=>	"2007-04-08",
			"TEXT"	=>	array(
					"Updated the $avatarpack to fix problems in using it with SI
and SI mods. It is recommended that you completelly remove the old version from
the affected games before installing the new version (or that you follow the first
optional step in the new installation instructions for the $avatarpack).",
				),
		),
		array(
			"TIME"	=>	"2007-03-24",
			"TEXT"	=>	array(
					"Updated the $avatarpack with two brand new avatars, and
retouched several others. There has been a corresponding update for the $keyring
mod.",
					"The $keyring mod and the $sifixes have also gained a custom
title screen. This title screen will only display on the latest snapshot of Exult,
but will cause no ill effects if you use an earlier snapshot.",
					"Finally, there are also 3 brand new icons: Silver Seed
versions of the Serpent Isle icons. I have added those mostly for $sifixes --
the logic being that the Silver Seed was supposed to 'fix' the Serpent Isle.",
					format_text("Update: ", true) . "Rapid fire update for the
$keyring mod. Added patch keybindings file, which will begin to work in the next
snapshot of Exult -- but without ill effects until then.",
				),
		),
		array(
			"TIME"	=>	"2007-03-24",
			"TEXT"	=>	array(
					"Slightly improved installation instructions for all mods.",
				),
		),
		array(
			"TIME"	=>	"2007-03-19",
			"TEXT"	=>	array(
					"Fixed a couple of problems in the $avatarpack.",
				),
		),
		array(
			"TIME"	=>	"2007-03-18",
			"TEXT"	=>	array(
					"There is a new mod available: the $avatarpack.",
					"The $keyring mod has been updated to include the new avatars
from the $avatarpack.",
				),
		),
		array(
			"TIME"	=>	"2007-01-10",
			"TEXT"	=>	array(
					"Fixed a few bugs in the $keyring mod.",
					format_text("Update: ", true) . "Minor bug fix in the $keyring mod.",
					format_text("Update #2: ", true) . "Another update to the
$keyring mod. Also, combined the three news entries of today into a single news entry."
				),
		),
		array(
			"TIME"	=>	"2006-12-25",
			"TEXT"	=>	"A few fixes and updates to the $keyring mod. This
version uses featurtes present only on Exult version '1.4.03cvs', and will not
work as intended otherwise."
		),
		array(
			"TIME"	=>	"2006-12-11",
			"TEXT"	=>	"Added new paperdoll data for the $keyring mod . This
update is intended for the upcoming 1.4.02cvs version of Exult and it " .
format_text("IS NOT COMPATIBLE", true) . " with the other version. There won't
be any big announcements -- it is just that a new snapshot will display its
version as being '1.4.02cvs' instead of the current '1.4.01cvs'."
		),
		array(
			"TIME"	=>	"2006-12-11",
			"TEXT"	=>	"Compatibility update of the $keyring mod with the new
BG paperdoll data. Also, there is a new and better code for the Keyring itself
 -- meaning that further updates to the mod should no longer result in loss of
the keys that you added to the keyring."
		),
		array(
			"TIME"	=>	"2006-12-06",
			"TEXT"	=>	"More bug fixes to the $keyring mod."
		),
		array(
			"TIME"	=>	"2006-12-01",
			"TEXT"	=>	"Fixed a few bugs in the $keyring mod. Also, fixed the
links in this page."
		),
		array(
			"TIME"	=>	"2006-11-25",
			"TEXT"	=>	"Updated the cfg file of the $sifixes mod to have Linux
LF-style line endings."
		),
		array(
			"TIME"	=>	"2006-11-09",
			"TEXT"	=>	"Still working on getting the site to work. A new section,
the \"Usecode C\" section, is up but has no real content yet -- just a hint of
what is to come."
		),
		array(
			"TIME"	=>	"2006-10-30",
			"TEXT"	=>	"Website created. The $keyring and the $sifixes mods have
been uploaded to this website for the first time, although there has been no
update to either since the versions posted in the $EXULT_LINK download page."
		),
	);
	
	if (count($NEWS_ITEMS) > 3)
	{
    	add_sub_button( "news.php", "Show latest news", "news.png", !$showall );
    	add_sub_button( "news.php?showall=true", "Show all news", "news.png", $showall );
    	make_submenubar();
    }
    else
    	empty_submenubar();
    
	foreach($NEWS_ITEMS as $index => $NEWS)
	{
		if ($index < 3 || $showall)
			make_box($NEWS["TIME"], $NEWS["TEXT"]);
	}
?>
